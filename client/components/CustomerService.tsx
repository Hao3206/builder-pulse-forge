import { useState } from "react";

export default function CustomerService() {
  const [isOpen, setIsOpen] = useState(false);

  const togglePopup = () => {
    setIsOpen(!isOpen);
  };

  return (
    <>
      {/* Vertical Customer Service Button */}
      <div className="fixed right-6 top-3/4 transform -translate-y-1/2 z-50">
        <button
          onClick={togglePopup}
          className="bg-[#058A65] hover:bg-[#046B52] transition-colors duration-300 rounded-full w-[50px] h-[140px] flex flex-col items-center justify-start text-white shadow-lg relative"
        >
          {/* Headset Icon */}
          <div className="w-6 h-6 mt-[17px] mb-2 relative">
            <svg
              width="22"
              height="20"
              viewBox="0 0 22 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="w-[21px] h-5 absolute left-0.5 top-0.5"
            >
              <path
                d="M3.27428 6.79093C3.91279 5.26685 4.98738 3.9654 6.36311 3.05003C7.73883 2.13466 9.35435 1.64618 11.0068 1.64593C14.45 1.64593 17.4635 3.74068 18.7378 6.79093C18.274 6.62026 17.7837 6.53316 17.2895 6.53368C17.1979 6.53358 17.1071 6.55155 17.0224 6.58656C16.9377 6.62157 16.8607 6.67293 16.7958 6.73771C16.731 6.80249 16.6795 6.87941 16.6444 6.96409C16.6093 7.04876 16.5913 7.13952 16.5913 7.23118V14.2129C16.5913 14.3979 16.6648 14.5753 16.7956 14.7061C16.9264 14.8369 17.1038 14.9104 17.2888 14.9104C18.0722 14.9105 18.8399 14.691 19.5048 14.2766C20.1696 13.8623 20.705 13.2698 21.05 12.5665C21.395 11.8632 21.5359 11.0772 21.4566 10.2978C21.3774 9.51841 21.0811 8.77689 20.6015 8.15743L20.5955 8.12443C20.1544 5.90423 18.9565 3.9059 17.2063 2.4704C15.4561 1.03489 13.262 0.251163 10.9984 0.252933C8.73477 0.254703 6.54191 1.04186 4.79395 2.4801C3.04598 3.91834 1.85123 5.91855 1.41353 8.13943L1.41053 8.15818C0.840998 8.89151 0.532452 9.79392 0.533783 10.7224C0.533142 11.3317 0.665724 11.9338 0.922241 12.4865C1.17876 13.0392 1.55301 13.5291 2.01878 13.9219C2.11853 14.1799 2.30828 14.5219 2.61503 15.0394C3.9301 17.2381 6.05498 18.8333 8.53328 19.4824L9.27353 19.6849C9.31691 19.6972 9.36137 19.7052 9.40628 19.7089C9.58403 19.7682 9.77078 19.7989 9.95903 19.7982H12.053C12.5159 19.7982 12.9598 19.6143 13.2871 19.287C13.6144 18.9597 13.7983 18.5158 13.7983 18.0529C13.7983 17.5901 13.6144 17.1462 13.2871 16.8189C12.9598 16.4916 12.5159 16.3077 12.053 16.3077H9.95903C9.04403 16.3077 8.28353 17.0142 8.21753 17.9277C6.58803 17.3504 5.17632 16.2844 4.17503 14.8752C4.35659 14.8986 4.53947 14.9104 4.72253 14.9104C4.81426 14.9105 4.9051 14.8925 4.98986 14.8575C5.07462 14.8224 5.15163 14.771 5.21649 14.7061C5.28135 14.6413 5.33278 14.5643 5.36783 14.4795C5.40289 14.3947 5.42088 14.3039 5.42078 14.2122V7.23118C5.42088 7.13952 5.40291 7.04874 5.3679 6.96403C5.3329 6.87932 5.28153 6.80234 5.21675 6.73749C5.15198 6.67264 5.07505 6.6212 4.99038 6.5861C4.9057 6.551 4.81494 6.53293 4.72328 6.53293C4.21328 6.53293 3.72578 6.62293 3.27428 6.79018V6.79093ZM3.03578 12.9469C2.61811 12.6296 2.2982 12.2011 2.11268 11.7105C1.92715 11.2199 1.8835 10.6869 1.98671 10.1726C2.08993 9.65833 2.33585 9.18349 2.69632 8.80244C3.0568 8.42139 3.51727 8.14951 4.02503 8.01793V13.4269C3.66653 13.3347 3.32978 13.1719 3.03503 12.9469H3.03578ZM12.053 17.7034C12.1456 17.7034 12.2344 17.7402 12.2999 17.8057C12.3654 17.8712 12.4022 17.96 12.4022 18.0526C12.4022 18.1452 12.3654 18.234 12.2999 18.2994C12.2344 18.3649 12.1456 18.4017 12.053 18.4017H9.95903C9.86654 18.4017 9.77783 18.3649 9.71243 18.2995C9.64703 18.2341 9.61028 18.1454 9.61028 18.0529C9.61028 17.9604 9.64703 17.8717 9.71243 17.8063C9.77783 17.7409 9.86654 17.7042 9.95903 17.7042H12.053V17.7034ZM20.0825 10.7224C20.0825 11.3415 19.8768 11.9431 19.4978 12.4326C19.1188 12.9221 18.5879 13.2719 17.9885 13.4269V8.01793C18.5879 8.173 19.1188 8.52276 19.4978 9.01227C19.8768 9.50179 20.0825 10.1033 20.0825 10.7224Z"
                fill="white"
              />
            </svg>
            {/* Dots for eyes */}
            <div className="absolute top-[9px] left-[9px] w-0.5 h-0.5 bg-white rounded-full"></div>
            <div className="absolute top-[9px] left-[14px] w-0.5 h-0.5 bg-white rounded-full"></div>
          </div>

          {/* Vertical Text */}
          <div className="text-white text-sm font-medium leading-[16.6px] flex flex-col items-center w-[14px] h-[70px] absolute left-[18px] top-[51px]">
            <span>联</span>
            <span>系</span>
            <span>客</span>
            <span>服</span>
          </div>
        </button>
      </div>

      {/* Popup Modal */}
      {isOpen && (
        <>
          {/* Overlay */}
          <div
            className="fixed inset-0 bg-black bg-opacity-50 z-40"
            onClick={togglePopup}
          ></div>

          {/* Popup Content */}
          <div className="fixed right-[76px] top-1/2 transform -translate-y-1/2 z-50">
            <div className="relative w-[289px] h-[208px]">
              {/* Main popup background with speech bubble */}
              <svg
                width="301"
                height="222"
                viewBox="0 0 301 222"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="absolute left-0 top-0 w-[289px] h-[208px]"
                style={{
                  filter: "drop-shadow(0px 4px 6.3px rgba(0, 0, 0, 0.07))",
                }}
              >
                <g>
                  <path
                    d="M7 13C7 7.47715 11.4772 3 17 3H277C282.523 3 287 7.47715 287 13V98.5087C287 99.2115 287.369 99.8627 287.972 100.224L293.471 103.521C294.683 104.248 294.779 105.969 293.656 106.827L287.787 111.305C287.291 111.684 287 112.272 287 112.895V201C287 206.523 282.523 211 277 211H17C11.4771 211 7 206.523 7 201V13Z"
                    fill="white"
                  />
                  <path
                    d="M17 3.5H277C282.247 3.5 286.5 7.75329 286.5 13V98.5088C286.5 99.3872 286.962 100.202 287.715 100.653L293.214 103.95C294.123 104.495 294.195 105.786 293.353 106.429L287.483 110.908C286.864 111.381 286.5 112.116 286.5 112.896V201C286.5 206.247 282.247 210.5 277 210.5H17C11.7533 210.5 7.5 206.247 7.5 201V13C7.5 7.7533 11.7533 3.5 17 3.5Z"
                    stroke="#E8E8E8"
                  />
                </g>
              </svg>

              {/* Contact Options */}
              <div className="absolute left-0 top-[4px] w-[280px] divide-y divide-gray-100">
                {/* Phone Consultation */}
                <div className="flex items-center justify-between py-[14px] hover:bg-gray-50 transition-colors cursor-pointer h-[66px]">
                  <div className="flex items-center gap-3 pl-6">
                    <div className="w-9 h-9 bg-[#F1F3F5] rounded-full flex items-center justify-center relative">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        className="absolute left-2 top-2"
                      >
                        <path
                          d="M10.911 4.76353C12.0915 5.05605 14.6294 6.01336 15.3376 9.32787M17.9935 10.6971C18.1411 7.5021 15.7803 1.56843 8.69777 2.02489M6.04179 8.41498C6.77955 7.80641 8.16654 6.40669 7.81241 5.67641C7.36976 4.76355 5.59913 2.48141 4.71382 2.93784C3.82851 3.39427 1.61523 4.76364 2.05789 6.58931C2.50054 8.41498 6.48449 17.0871 14.4523 18C14.895 18 16.6656 16.1743 16.6656 14.805C16.6656 13.4357 14.895 11.61 13.567 11.61C12.239 11.61 11.7964 14.3486 10.911 13.8922C10.0257 13.4357 5.59909 9.78422 6.04179 8.41498Z"
                          stroke="#80838A"
                          strokeWidth="1.3"
                          strokeLinecap="round"
                          strokeLinejoin="round"
                        />
                      </svg>
                    </div>
                    <div className="w-[155px] flex flex-col gap-1.5">
                      <div className="text-sm font-medium text-[#333] tracking-[-0.14px]">
                        咨询电话
                      </div>
                      <div className="text-xs font-medium text-[#058A65] tracking-[-0.12px]">
                        8888-888-88
                      </div>
                    </div>
                  </div>
                  <div className="pr-6">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      strokeWidth="2"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      className="w-5 h-5 text-gray-400 transform -rotate-90"
                    >
                      <path d="m6 9 6 6 6-6" />
                    </svg>
                  </div>
                </div>

                {/* WeChat Customer Service */}
                <div className="flex items-center justify-between py-[14px] hover:bg-gray-50 transition-colors cursor-pointer h-[66px]">
                  <div className="flex items-center gap-3 pl-6">
                    <div className="w-9 h-9 bg-[#F1F3F5] rounded-full flex items-center justify-center relative">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        className="absolute left-2 top-2"
                      >
                        <path
                          d="M14.9965 7.99183C16.9403 8.67725 18.3334 10.5302 18.3334 12.7085C18.3334 13.5427 18.1284 14.3487 17.7424 15.0687C17.7074 15.1339 17.6449 15.2431 17.553 15.4L17.8384 16.446C17.9655 16.9127 17.5376 17.3408 17.0709 17.2135L16.0232 16.9277L15.9015 16.9993C15.1258 17.4646 14.238 17.7098 13.3334 17.7085C11.8101 17.7085 10.4459 17.0272 9.52863 15.9529C9.16287 16.0122 8.79292 16.042 8.42238 16.0418C7.18529 16.0418 5.99529 15.7127 4.95613 15.0985C4.92029 15.0772 4.83092 15.0256 4.68988 14.9443L3.11675 15.3672C2.64967 15.4929 2.223 15.0631 2.35217 14.597L2.77779 13.0589C2.67133 12.8828 2.56778 12.7049 2.46717 12.5254C1.94073 11.5589 1.6655 10.4757 1.66675 9.37516C1.66675 5.6912 4.69342 2.7085 8.42238 2.7085C11.5457 2.7085 14.2424 4.81808 14.9813 7.77287C14.9999 7.84641 15.0043 7.92037 14.9965 7.99162V7.99183ZM13.6663 7.71933C12.947 5.5087 10.8434 3.9585 8.42238 3.9585C5.37967 3.9585 2.91675 6.38558 2.91675 9.37516C2.91675 10.2789 3.14134 11.1493 3.56509 11.9279C3.62134 12.0312 3.76384 12.2737 3.98738 12.6456C4.03104 12.7182 4.05946 12.799 4.07092 12.883C4.08238 12.967 4.07664 13.0524 4.05404 13.1341L3.84863 13.8762L4.61488 13.6702C4.77457 13.6272 4.94478 13.6493 5.08821 13.7316C5.36696 13.8916 5.533 13.9875 5.59217 14.0225C6.44941 14.5283 7.42702 14.7941 8.42238 14.7918C8.54259 14.7918 8.66238 14.7881 8.78154 14.7806C8.48523 14.13 8.3324 13.4233 8.33342 12.7085C8.33342 9.94704 10.572 7.7085 13.3334 7.7085C13.4453 7.7085 13.5563 7.71225 13.6663 7.71933ZM16.2778 15.4743C16.2558 15.3936 16.2502 15.3092 16.2614 15.2263C16.2726 15.1433 16.3003 15.0634 16.343 14.9914C16.4448 14.8218 16.5441 14.6506 16.6407 14.4779C16.9324 13.9338 17.0845 13.3258 17.0834 12.7085C17.0834 10.6375 15.4045 8.9585 13.3334 8.9585C11.2624 8.9585 9.58342 10.6375 9.58342 12.7085C9.58342 14.7795 11.2624 16.4585 13.3334 16.4585C14.0115 16.4597 14.6771 16.2761 15.2586 15.9272C15.3018 15.9014 15.4205 15.832 15.6203 15.7156C15.692 15.6739 15.7712 15.6468 15.8535 15.6361C15.9357 15.6253 16.0192 15.631 16.0993 15.6529L16.3447 15.7197L16.2778 15.4743ZM6.45842 8.3335C6.2374 8.3335 6.02544 8.2457 5.86916 8.08942C5.71288 7.93314 5.62509 7.72118 5.62509 7.50016C5.62509 7.27915 5.71288 7.06719 5.86916 6.91091C6.02544 6.75463 6.2374 6.66683 6.45842 6.66683C6.67943 6.66683 6.89139 6.75463 7.04767 6.91091C7.20395 7.06719 7.29175 7.27915 7.29175 7.50016C7.29175 7.72118 7.20395 7.93314 7.04767 8.08942C6.89139 8.2457 6.67943 8.3335 6.45842 8.3335ZM10.2084 8.3335C9.98741 8.3335 9.77544 8.2457 9.61916 8.08942C9.46288 7.93314 9.37509 7.72118 9.37509 7.50016C9.37509 7.27915 9.46288 7.06719 9.61916 6.91091C9.77544 6.75463 9.98741 6.66683 10.2084 6.66683C10.4294 6.66683 10.6414 6.75463 10.7977 6.91091C10.954 7.06719 11.0418 7.27915 11.0418 7.50016C11.0418 7.72118 10.954 7.93314 10.7977 8.08942C10.6414 8.2457 10.4294 8.3335 10.2084 8.3335ZM11.8751 12.2918C11.7093 12.2918 11.5504 12.226 11.4331 12.1088C11.3159 11.9916 11.2501 11.8326 11.2501 11.6668C11.2501 11.5011 11.3159 11.3421 11.4331 11.2249C11.5504 11.1077 11.7093 11.0418 11.8751 11.0418C12.0408 11.0418 12.1998 11.1077 12.317 11.2249C12.4342 11.3421 12.5001 11.5011 12.5001 11.6668C12.5001 11.8326 12.4342 11.9916 12.317 12.1088C12.1998 12.226 12.0408 12.2918 11.8751 12.2918ZM14.7918 12.2918C14.626 12.2918 14.467 12.226 14.3498 12.1088C14.2326 11.9916 14.1668 11.8326 14.1668 11.6668C14.1668 11.5011 14.2326 11.3421 14.3498 11.2249C14.467 11.1077 14.626 11.0418 14.7918 11.0418C14.9575 11.0418 15.1165 11.1077 15.2337 11.2249C15.3509 11.3421 15.4168 11.5011 15.4168 11.6668C15.4168 11.8326 15.3509 11.9916 15.2337 12.1088C15.1165 12.226 14.9575 12.2918 14.7918 12.2918Z"
                          fill="#80838A"
                        />
                      </svg>
                    </div>
                    <div className="w-[155px] flex flex-col gap-1.5">
                      <div className="text-sm font-medium text-[#333] tracking-[-0.14px]">
                        微信客服
                      </div>
                      <div className="text-xs text-[#999] tracking-[-0.12px]">
                        添加微信，快速解决您的问题
                      </div>
                    </div>
                  </div>
                  <div className="pr-6">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      strokeWidth="2"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      className="w-5 h-5 text-gray-400 transform -rotate-90"
                    >
                      <path d="m6 9 6 6 6-6" />
                    </svg>
                  </div>
                </div>

                {/* Business Consultation */}
                <div className="flex items-center justify-between py-[14px] hover:bg-gray-50 transition-colors cursor-pointer h-[66px]">
                  <div className="flex items-center gap-3 pl-6">
                    <div className="w-9 h-9 bg-[#F1F3F5] rounded-full flex items-center justify-center relative">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        className="absolute left-2 top-2"
                      >
                        <rect
                          x="3.87236"
                          y="3.26885"
                          width="12.2552"
                          height="14.531"
                          rx="1.3"
                          stroke="#80838A"
                          strokeWidth="1.4"
                        />
                        <path
                          d="M7.72412 8.25879H12.2758"
                          stroke="#80838A"
                          strokeWidth="1.6"
                          strokeLinecap="round"
                          strokeLinejoin="round"
                        />
                        <path
                          d="M7.72412 12.8105H12.2758"
                          stroke="#80838A"
                          strokeWidth="1.6"
                          strokeLinecap="round"
                          strokeLinejoin="round"
                        />
                        <path
                          d="M7.72412 2V4.27586"
                          stroke="#80838A"
                          strokeWidth="1.6"
                          strokeLinecap="round"
                          strokeLinejoin="round"
                        />
                        <path
                          d="M12.2759 2V4.27586"
                          stroke="#80838A"
                          strokeWidth="1.6"
                          strokeLinecap="round"
                          strokeLinejoin="round"
                        />
                      </svg>
                    </div>
                    <div className="w-[155px] flex flex-col gap-1.5">
                      <div className="text-sm font-medium text-[#333] tracking-[-0.14px]">
                        业务咨询
                      </div>
                      <div className="text-xs text-[#999] tracking-[-0.12px]">
                        问题留言，我们会尽快联系您
                      </div>
                    </div>
                  </div>
                  <div className="pr-6">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      strokeWidth="2"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      className="w-5 h-5 text-gray-400 transform -rotate-90"
                    >
                      <path d="m6 9 6 6 6-6" />
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </>
      )}
    </>
  );
}
